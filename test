#  untitled.rb
#  
#  Copyright 2015 Unknown <delano@PC239>
#  
#  This program is free software; you can redistribute it and/or modify
#  it under the terms of the GNU General Public License as published by
#  the Free Software Foundation; either version 2 of the License, or
#  (at your option) any later version.
#  
#  This program is distributed in the hope that it will be useful,
#  but WITHOUT ANY WARRANTY; without even the implied warranty of
#  MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the
#  GNU General Public License for more details.
#  
#  You should have received a copy of the GNU General Public License
#  along with this program; if not, write to the Free Software
#  Foundation, Inc., 51 Franklin Street, Fifth Floor, Boston,
#  MA 02110-1301, USA.

require "net/https"
require "uri"

first_byte = 0
last_byte = 10
order = ""

while order[-1,1] != '#' do
uri = URI.parse('url to test')
http = Net::HTTP.new(uri.host, uri.port)
http.use_ssl = true
http.verify_mode = OpenSSL::SSL::VERIFY_NONE
headers = {
  'Range' => 'bytes=' << first_byte.to_s << '-' << last_byte.to_s  
}
request = Net::HTTP::Get.new(uri.request_uri,headers)
response = http.request(request)
first_byte = last_byte
last_byte += 10
#puts last_byte <-prints last byte for testing
order << response.body.to_str
puts order#<- prints order in steps of 10 bytes
#puts response.code <- 206 until # reached 
end
puts order




